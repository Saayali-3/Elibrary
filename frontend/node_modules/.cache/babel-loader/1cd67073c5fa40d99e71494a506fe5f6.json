{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jeevi\\\\ttp-team-3-master\\\\src\\\\components\\\\containers\\\\LoginFormContainer.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { fetchAllUsersThunk } from \"../../thunks\";\nimport { LoginFormView } from \"../views\";\n\nclass LoginFormContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.validateUser = () => {\n      const users = this.props.allUsers;\n      let errors = { ...this.state.errors\n      };\n      let isValidUser = false;\n      let id = 0;\n\n      for (let i = 0; i < users.length; i++) {\n        if (this.state.username === users[i].username && this.state.password === users[i].password) {\n          isValidUser = true;\n          this.props.history.push(`/users/${users[i].id}`);\n          break;\n        }\n      }\n\n      if (isValidUser) {\n        errors.username = \"Valid user\";\n      } else {\n        errors.username = \"Invalid username or password\";\n      }\n\n      this.setState({\n        id,\n        isValidUser,\n        errors\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.validateUser();\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      isValidUser: false,\n      errors: {}\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchAllUsers();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, this.state.isValidUser ? `` : this.state.errors.username), /*#__PURE__*/React.createElement(LoginFormView, {\n      username: this.state.username,\n      password: this.state.password,\n      handleSubmit: this.handleSubmit,\n      handleChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nconst mapState = state => {\n  return {\n    allUsers: state.allUsers\n  };\n};\n\nconst mapDispatch = dispatch => {\n  return {\n    fetchAllUsers: () => dispatch(fetchAllUsersThunk())\n  };\n};\n\nLoginFormContainer.propTypes = {\n  allUsers: PropTypes.array.isRequired,\n  fetchAllUsers: PropTypes.func.isRequired\n};\nexport default connect(mapState, mapDispatch)(LoginFormContainer);","map":{"version":3,"sources":["C:/Users/Jeevi/ttp-team-3-master/src/components/containers/LoginFormContainer.js"],"names":["React","Component","PropTypes","connect","fetchAllUsersThunk","LoginFormView","LoginFormContainer","constructor","props","handleChange","e","setState","target","name","value","validateUser","users","allUsers","errors","state","isValidUser","id","i","length","username","password","history","push","handleSubmit","preventDefault","componentDidMount","fetchAllUsers","render","mapState","mapDispatch","dispatch","propTypes","array","isRequired","func"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,cAAnC;AACA,SAASC,aAAT,QAA8B,UAA9B;;AAEA,MAAMC,kBAAN,SAAiCL,SAAjC,CAA2C;AACzCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAcnBC,YAdmB,GAcHC,CAAD,IAAO;AAElB,WAAKC,QAAL,CAAc;AACZ,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AADd,OAAd;AAIH,KApBkB;;AAAA,SAsBnBC,YAtBmB,GAsBJ,MAAM;AACnB,YAAMC,KAAK,GAAC,KAAKR,KAAL,CAAWS,QAAvB;AACA,UAAIC,MAAM,GAAG,EAAE,GAAG,KAAKC,KAAL,CAAWD;AAAhB,OAAb;AACA,UAAIE,WAAW,GAAG,KAAlB;AACA,UAAIC,EAAE,GAAC,CAAP;;AACA,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACN,KAAK,CAACO,MAApB,EAA2BD,CAAC,EAA5B,EAA+B;AAC5B,YAAG,KAAKH,KAAL,CAAWK,QAAX,KAAsBR,KAAK,CAACM,CAAD,CAAL,CAASE,QAA/B,IAAyC,KAAKL,KAAL,CAAWM,QAAX,KAAsBT,KAAK,CAACM,CAAD,CAAL,CAASG,QAA3E,EAAoF;AACnFL,UAAAA,WAAW,GAAG,IAAd;AACA,eAAKZ,KAAL,CAAWkB,OAAX,CAAmBC,IAAnB,CAAyB,UAASX,KAAK,CAACM,CAAD,CAAL,CAASD,EAAG,EAA9C;AACA;AACD;AACF;;AACD,UAAID,WAAJ,EAAiB;AACfF,QAAAA,MAAM,CAACM,QAAP,GAAkB,YAAlB;AACD,OAFD,MAGI;AACFN,QAAAA,MAAM,CAACM,QAAP,GAAkB,8BAAlB;AACD;;AACD,WAAKb,QAAL,CAAc;AAAEU,QAAAA,EAAF;AAAKD,QAAAA,WAAL;AAAkBF,QAAAA;AAAlB,OAAd;AACD,KAzCkB;;AAAA,SA2CnBU,YA3CmB,GA2CHlB,CAAD,IAAO;AACnBA,MAAAA,CAAC,CAACmB,cAAF;AACD,WAAKd,YAAL;AACD,KA9CkB;;AAEjB,SAAKI,KAAL,GAAa;AACXK,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,QAAQ,EAAE,EAFC;AAGXL,MAAAA,WAAW,EAAE,KAHF;AAIXF,MAAAA,MAAM,EAAE;AAJG,KAAb;AAMD;;AAEDY,EAAAA,iBAAiB,GAAG;AAClB,SAAKtB,KAAL,CAAWuB,aAAX;AACD;;AAmCDC,EAAAA,MAAM,GAAG;AACP,wBACE,uDAEE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKb,KAAL,CAAWC,WAAX,GAAyB,EAAzB,GAA4B,KAAKD,KAAL,CAAWD,MAAX,CAAkBM,QAD/C,CAFF,eAKE,oBAAC,aAAD;AACE,MAAA,QAAQ,EAAE,KAAKL,KAAL,CAAWK,QADvB;AAEE,MAAA,QAAQ,EAAE,KAAKL,KAAL,CAAWM,QAFvB;AAGE,MAAA,YAAY,EAAE,KAAKG,YAHrB;AAIE,MAAA,YAAY,EAAE,KAAKnB,YAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CADF;AAcD;;AA/DwC;;AAiE3C,MAAMwB,QAAQ,GAAId,KAAD,IAAW;AAC1B,SAAO;AACLF,IAAAA,QAAQ,EAAEE,KAAK,CAACF;AADX,GAAP;AAGD,CAJD;;AAKA,MAAMiB,WAAW,GAAIC,QAAD,IAAc;AAChC,SAAO;AACLJ,IAAAA,aAAa,EAAE,MAAMI,QAAQ,CAAC/B,kBAAkB,EAAnB;AADxB,GAAP;AAGD,CAJD;;AAMAE,kBAAkB,CAAC8B,SAAnB,GAA+B;AAC3BnB,EAAAA,QAAQ,EAAEf,SAAS,CAACmC,KAAV,CAAgBC,UADC;AAE3BP,EAAAA,aAAa,EAAE7B,SAAS,CAACqC,IAAV,CAAeD;AAFH,CAA/B;AAKA,eAAenC,OAAO,CAAC8B,QAAD,EAAWC,WAAX,CAAP,CAA+B5B,kBAA/B,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { fetchAllUsersThunk,} from \"../../thunks\";\nimport { LoginFormView } from \"../views\";\n\nclass LoginFormContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      isValidUser: false,\n      errors: {},\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchAllUsers();\n  }\n\n  handleChange = (e) => {\n   \n      this.setState({\n        [e.target.name]: e.target.value,\n      });\n    \n  };\n\n  validateUser = () => {\n    const users=this.props.allUsers\n    let errors = { ...this.state.errors };\n    let isValidUser = false;\n    let id=0;\n    for(let i=0;i<users.length;i++){\n       if(this.state.username===users[i].username&&this.state.password===users[i].password){\n        isValidUser = true;\n        this.props.history.push(`/users/${users[i].id}`);\n        break;\n      }\n    }\n    if (isValidUser) {\n      errors.username = \"Valid user\";\n    }\n    else{\n      errors.username = \"Invalid username or password\";\n    }\n    this.setState({ id,isValidUser, errors });\n  };\n\n  handleSubmit = (e) => {\n     e.preventDefault();\n    this.validateUser()\n  };\n  render() {\n    return (\n      <>\n        {/* Can potentially be extracted into its own ErrorMessage component */}\n        <div className=\"text-danger\">\n        {this.state.isValidUser ?``: this.state.errors.username}\n        </div>\n        <LoginFormView\n          username={this.state.username}\n          password={this.state.password}\n          handleSubmit={this.handleSubmit}\n          handleChange={this.handleChange}\n        />\n      </>\n    );\n  }\n}\nconst mapState = (state) => {\n  return {\n    allUsers: state.allUsers,\n  };\n};\nconst mapDispatch = (dispatch) => {\n  return {\n    fetchAllUsers: () => dispatch(fetchAllUsersThunk()),\n  };\n};\n\nLoginFormContainer.propTypes = {\n    allUsers: PropTypes.array.isRequired,\n    fetchAllUsers: PropTypes.func.isRequired,\n};\n\nexport default connect(mapState, mapDispatch)(LoginFormContainer);"]},"metadata":{},"sourceType":"module"}