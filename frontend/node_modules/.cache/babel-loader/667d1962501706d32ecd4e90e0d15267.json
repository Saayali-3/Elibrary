{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jeevi\\\\ttp-team-3-master\\\\src\\\\components\\\\views\\\\VerificationView.js\";\nimport React from 'react';\nimport axios from \"axios\";\n\nclass UploadFile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onFileChange = event => {\n      this.setState({\n        file: event.target.files[0]\n      });\n    };\n\n    this.uploadFileData = event => {\n      event.preventDefault();\n      this.setState({\n        message: ''\n      });\n      const credentials = {\n        username: \"sneka\",\n        password: \"12345\"\n      };\n      let token;\n      axios.post(\"http://localhost:8080/authenticate\", credentials).then(response => {\n        token = response.data.token;\n        localStorage.setItem(\"jwtToken\", token);\n        this.postFile(response.data.token);\n      });\n    };\n\n    this.state = {\n      file: '',\n      message: ''\n    };\n  }\n\n  postFile(token) {\n    console.log(token);\n    var fileUpload;\n    let data = new FormData();\n    data.append('file', this.state.file);\n    console.log(this.state.file);\n    /*for(var pair of data.entries()){\r\n    \tconsole.log(pair[0]+','+pair[1]);\r\n    \tfileUpload += pair[1];\r\n    };*/\n\n    console.log(fileUpload);\n    var ba_token = \"Bearer \" + token;\n    fetch(`http://localhost:8080/upload?file=${this.state.file}`, {\n      method: 'POST',\n      headers: {\n        'Authorization': ba_token\n      }\n    }).then(response => {\n      this.setState({\n        message: \"File successfully uploaded\"\n      });\n    }).catch(err => {\n      this.setState({\n        error: err\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }\n    }, \"Upload a File\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }\n    }, this.state.message), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onFileChange,\n      type: \"file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: !this.state.file,\n      onClick: this.uploadFileData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }\n    }, \"Upload\"));\n  }\n\n}\n\nexport default UploadFile;","map":{"version":3,"sources":["C:/Users/Jeevi/ttp-team-3-master/src/components/views/VerificationView.js"],"names":["React","axios","UploadFile","Component","constructor","props","onFileChange","event","setState","file","target","files","uploadFileData","preventDefault","message","credentials","username","password","token","post","then","response","data","localStorage","setItem","postFile","state","console","log","fileUpload","FormData","append","ba_token","fetch","method","headers","catch","err","error","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport axios from \"axios\";\r\n\r\nclass UploadFile extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {file: '', message: ''};\r\n\t}\r\n\t\r\n\tonFileChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tfile: event.target.files[0]\r\n\t\t});\r\n\t}\r\n\t\r\n\tuploadFileData = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.setState({message: ''});\r\n\t\tconst credentials = {\r\n\t\t\tusername: \"sneka\",\r\n\t\t\tpassword: \"12345\",\r\n\t\t  };\r\n\t\t  let token;\r\n\t\t\r\n\t\taxios.post(\"http://localhost:8080/authenticate\", credentials)\r\n      .then((response) => {\r\n\t\ttoken  = response.data.token;\r\n        localStorage.setItem(\"jwtToken\", token);\r\n        this.postFile(response.data.token)\r\n      })\r\n\t  \r\n\t}\r\n\tpostFile(token){\r\n\t\tconsole.log(token)\r\n\t\tvar fileUpload;\r\n\t\tlet data = new FormData();\r\n\t\tdata.append('file', this.state.file);\r\n\t\tconsole.log(this.state.file);\r\n\t\t/*for(var pair of data.entries()){\r\n\t\t\tconsole.log(pair[0]+','+pair[1]);\r\n\t\t\tfileUpload += pair[1];\r\n\t\t};*/\r\n\t\tconsole.log(fileUpload);\r\n\t\tvar ba_token=\"Bearer \"+token;\r\n\t\tfetch(`http://localhost:8080/upload?file=${this.state.file}`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Authorization': ba_token,\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\r\n\t\t}).then(response => {\r\n\r\n\t\t\tthis.setState({message: \"File successfully uploaded\"});\r\n\t\t}).catch(err => {\r\n\t\t\tthis.setState({error: err});\r\n\t\t});\r\n\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"container\">\r\n\t\t\t\r\n\t\t\t\t<h3>Upload a File</h3>\r\n\t\t\t\t<h4>{this.state.message}</h4>\r\n\t\t\t\t<input onChange={this.onFileChange} type=\"file\"></input>\r\n\t\t\t\t<button disabled={!this.state.file} onClick={this.uploadFileData}>Upload</button>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n}\r\n\r\nexport default UploadFile;"]},"metadata":{},"sourceType":"module"}