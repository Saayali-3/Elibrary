{"ast":null,"code":"import axios from \"axios\"; // ACTION TYPES;\n\nconst FETCH_ALL_USERS = \"FETCH_ALL_USERS\";\nconst ADD_USER = \"ADD_USER\";\nconst EDIT_USER = \"EDIT_USER\";\nconst DELETE_USER = \"DELETE_USER\";\nconst SUCCESS = \"SUCCESS\";\nconst ADD_USER_ENTITY = \"ADD_USER_ENTITY\"; // ACTION CREATORS;\n\nconst fetchAllUser = users => {\n  return {\n    type: FETCH_ALL_USERS,\n    payload: users\n  };\n};\n\nconst addUser = user => {\n  return {\n    type: ADD_USER,\n    payload: user\n  };\n};\n\nconst addUserEntity = user => {\n  return {\n    type: ADD_USER_ENTITY,\n    payload: user\n  };\n};\n\nconst confirmUserEntity = user => {\n  return {\n    type: ADD_USER_ENTITY,\n    payload: user\n  };\n};\n\nconst editUser = user => {\n  return {\n    type: EDIT_USER,\n    payload: user\n  };\n};\n\nconst deleteUser = id => {\n  return {\n    type: DELETE_USER,\n    payload: id\n  };\n}; // THUNK CREATORS;\n\n\nexport const fetchAllUsersThunk = () => dispatch => {\n  return axios.get(\"http://localhost:8080/alluser\").then(res => res.data).then(users => dispatch(fetchAllUser(users))).catch(err => console.log(err));\n};\n/*export const fetchAuthenticateThunk =()=>(dispatch)=>{\n  return axios.\n}*/\n\nexport const addUserThunk = (user, ownProps) => dispatch => {\n  console.log(user);\n  return axios.post(\"http://localhost:8080/register\", user).then(res => res.data).then(newUser => {\n    const tweakedUser = { ...newUser,\n      items: []\n    };\n    dispatch(addUser(tweakedUser)); //  ownProps.history.push(`/users/${newUser.id}`);\n  }).catch(err => console.log(err));\n};\nexport const editUserThunk = (id, user) => dispatch => {\n  return axios.put(`http://localhost:8080/candidates`, user).then(res => res.data).then(updatedUser => {\n    dispatch(editUser(updatedUser));\n  }).catch(err => console.log(err));\n};\nexport const deleteUserThunk = id => dispatch => {\n  return axios.delete(`http://localhost:8080/candidates/${id}`).then(res => res.data).then(() => dispatch(deleteUser(id))).catch(err => console.log(err));\n};\nexport const addUserEntityThunk = (user, ownProps) => dispatch => {\n  console.log(user);\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Access-Control-Allow-Methods\": \"GET, OPTIONS, POST, PUT\"\n    }\n  };\n  return axios.post(\"http://localhost:8080/emailregister\", user, config).then(res => {\n    dispatch(addUserEntity(res.data));\n  }).catch(err => console.log(err));\n};\nexport const confirmUserEntityThunk = (token, ownProps) => dispatch => {\n  console.log(token);\n  const url = \"http://localhost:8080/confirm-account?token=\" + token;\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Access-Control-Allow-Methods\": \"GET, OPTIONS, POST, PUT\"\n    }\n  };\n  return axios.post(url, token, config).then(res => {\n    dispatch(confirmUserEntity(res.data));\n  }).catch(err => console.log(err));\n}; // REDUCER;\n\nconst reducer = (state = [], action) => {\n  console.log(action);\n\n  switch (action.type) {\n    case FETCH_ALL_USERS:\n      return action;\n\n    case ADD_USER:\n      return [...state, action.payload];\n\n    case EDIT_USER:\n      return state.map(user => user.id === action.payload.id ? action.payload : user);\n\n    case ADD_USER_ENTITY:\n      return action;\n\n    case DELETE_USER:\n      return state.filter(user => user.id !== action.payload);\n\n    case SUCCESS:\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/Users/Jeevi/ttp-team-3-master/src/store/utilities/allUsers.js"],"names":["axios","FETCH_ALL_USERS","ADD_USER","EDIT_USER","DELETE_USER","SUCCESS","ADD_USER_ENTITY","fetchAllUser","users","type","payload","addUser","user","addUserEntity","confirmUserEntity","editUser","deleteUser","id","fetchAllUsersThunk","dispatch","get","then","res","data","catch","err","console","log","addUserThunk","ownProps","post","newUser","tweakedUser","items","editUserThunk","put","updatedUser","deleteUserThunk","delete","addUserEntityThunk","config","headers","confirmUserEntityThunk","token","url","reducer","state","action","map","filter"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n// ACTION TYPES;\nconst FETCH_ALL_USERS = \"FETCH_ALL_USERS\";\nconst ADD_USER = \"ADD_USER\";\nconst EDIT_USER = \"EDIT_USER\";\nconst DELETE_USER = \"DELETE_USER\";\nconst SUCCESS=\"SUCCESS\";\nconst ADD_USER_ENTITY=\"ADD_USER_ENTITY\";\n// ACTION CREATORS;\nconst fetchAllUser = (users) => {\n  return {\n    type: FETCH_ALL_USERS,\n    payload: users,\n  };\n};\n\nconst addUser = (user) => {\n  return {\n    type: ADD_USER,\n    payload: user,\n  };\n};\n\nconst addUserEntity=(user)=>{\n  return{\n    type:ADD_USER_ENTITY,\n    payload:user\n  };\n};\n\n\nconst confirmUserEntity=(user)=>{\n  return{\n    type:ADD_USER_ENTITY,\n    payload:user\n  };\n};\n\nconst editUser = (user) => {\n  return {\n    type: EDIT_USER,\n    payload: user,\n  };\n};\n\nconst deleteUser = (id) => {\n  return {\n    type: DELETE_USER,\n    payload: id,\n  };\n};\n\n// THUNK CREATORS;\nexport const fetchAllUsersThunk = () => (dispatch) => {\n  return axios\n    .get(\"http://localhost:8080/alluser\")\n    .then((res) => res.data)\n    .then((users) => dispatch(fetchAllUser(users)))\n    .catch((err) => console.log(err));\n};\n/*export const fetchAuthenticateThunk =()=>(dispatch)=>{\n  return axios.\n}*/\n\nexport const addUserThunk = (user, ownProps) => (dispatch) => {\nconsole.log(user)\n  return axios\n    .post(\"http://localhost:8080/register\", user)\n    .then((res) => res.data)\n    .then((newUser) => {\n      const tweakedUser = { ...newUser, items: [] };\n      dispatch(addUser(tweakedUser));\n    //  ownProps.history.push(`/users/${newUser.id}`);\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const editUserThunk = (id, user) => (dispatch) => {\n  return axios\n    .put(`http://localhost:8080/candidates`, user)\n    .then((res) => res.data)\n    .then((updatedUser) => {\n      dispatch(editUser(updatedUser));\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const deleteUserThunk = (id) => (dispatch) => {\n  return axios\n    .delete(`http://localhost:8080/candidates/${id}`)\n    .then((res) => res.data)\n    .then(() => dispatch(deleteUser(id)))\n    .catch((err) => console.log(err));\n};\nexport const addUserEntityThunk = (user, ownProps) => (dispatch) => {\n  console.log(user)\n  const config={headers: {'Content-Type': 'application/json',\"Access-Control-Allow-Origin\":\"*\",\n  \"Access-Control-Allow-Methods\": \"GET, OPTIONS, POST, PUT\"}} \n    return axios\n      .post(\"http://localhost:8080/emailregister\", user,config)\n      .then((res) =>{ \n        dispatch(addUserEntity(res.data));\n        \n      }\n        )\n      \n      .catch((err) => console.log(err));\n  };\n\n\n  export const confirmUserEntityThunk = (token, ownProps) => (dispatch) => {\n    console.log(token);\n    const url=\"http://localhost:8080/confirm-account?token=\"+token\n    const config={headers: {'Content-Type': 'application/json',\"Access-Control-Allow-Origin\":\"*\",\n    \"Access-Control-Allow-Methods\": \"GET, OPTIONS, POST, PUT\"}} \n      return axios\n        .post(url, token,config)\n        .then((res) =>{ \n          dispatch(confirmUserEntity(res.data));\n          \n        }\n          )\n        \n        .catch((err) => console.log(err));\n    };\n// REDUCER;\nconst reducer = (state = [], action) => {\n  console.log(action)\n  switch (action.type) {\n    case FETCH_ALL_USERS:\n      return action;\n    case ADD_USER:\n      return [...state, action.payload];\n    case EDIT_USER:\n      return state.map((user) =>\n        user.id === action.payload.id ? action.payload : user\n      );\n    case ADD_USER_ENTITY:\n      return action;\n    case DELETE_USER:\n      return state.filter((user) => user.id !== action.payload);\n    case SUCCESS:\n        return action.payload;  \n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}